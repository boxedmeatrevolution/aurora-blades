[gd_scene load_steps=6 format=2]

[ext_resource path="res://entities/player.tscn" type="PackedScene" id=1]
[ext_resource path="res://entities/ui/pixel_camera.tscn" type="PackedScene" id=2]
[ext_resource path="res://tilesets/winter.tres" type="TileSet" id=3]
[ext_resource path="res://entities/ui/dialogue.tscn" type="PackedScene" id=4]
[ext_resource path="res://dialogue/introduction.gd" type="Script" id=5]

[node name="TestLevel" type="Node"]

[node name="Player" parent="." instance=ExtResource( 1 )]
position = Vector2( -94.131, -106.703 )

[node name="PixelCamera" parent="Player" instance=ExtResource( 2 )]

[node name="TileMap" type="TileMap" parent="."]
tile_set = ExtResource( 3 )
format = 1

[node name="Blocks" type="StaticBody2D" parent="."]
editor/display_folded = true
collision_layer = 2
collision_mask = 0

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Blocks"]
position = Vector2( -480, -144 )
polygon = PoolVector2Array( -64, 256, 80, 256, 112, 272, 144, 304, 160, 336, 192, 368, 224, 384, 368, 384, 432, 352, 640, 352, 704, 320, 768, 256, 864, 64, 896, 32, 928, 16, 992, 16, 1024, 32, 1040, 48, 1136, 224, 1168, 256, 1200, 272, 1264, 272, 1296, 256, 1328, 224, 1328, 480, 1360, 544, 1392, 576, 1456, 608, 1616, 608, 1680, 576, 1792, 576, 1856, 608, 1968, 608, 2352, 416, 2480, 416, 2544, 352, 2608, 320, 2736, 320, 2768, 336, 3024, 336, 3024, 656, 1024, 656, 1024, 464, 976, 416, -416, 416, -416, 64, -288, 64, -224, 96, -192, 128, -160, 192, -128, 224 )

[node name="CollisionPolygon2D2" type="CollisionPolygon2D" parent="Blocks"]
position = Vector2( 80, 16 )
polygon = PoolVector2Array( -272, 0, -272, 16, -240, 48, 0, 48, 32, 16, 32, 0 )

[node name="CollisionPolygon2D9" type="CollisionPolygon2D" parent="Blocks"]
position = Vector2( 2144, 64 )
polygon = PoolVector2Array( -272, 0, -272, 16, -240, 48, 320, 48, 352, 16, 352, 7.62939e-06 )

[node name="CollisionPolygon2D3" type="CollisionPolygon2D" parent="Blocks"]
position = Vector2( -320, -128 )
polygon = PoolVector2Array( -272, 0, -272, 16, -240, 48, 0, 48, 32, 16, 32, 0 )

[node name="CollisionPolygon2D4" type="CollisionPolygon2D" parent="Blocks"]
position = Vector2( -96, 0 )
polygon = PoolVector2Array( -192, -64, -16, -64, -47.9999, -32, -160, -32 )

[node name="CollisionPolygon2D5" type="CollisionPolygon2D" parent="Blocks"]
position = Vector2( 64, -32 )
polygon = PoolVector2Array( 1024, 48, 1056, 80, 1088, 96, 1152, 96, 1184, 80, 1216, 48, 1216, 128, 1184, 160, 1056, 160, 1024, 128 )

[node name="CollisionPolygon2D8" type="CollisionPolygon2D" parent="Blocks"]
position = Vector2( 272, 128 )
polygon = PoolVector2Array( 1024, 48, 1056, 80, 1088, 96, 1152, 96, 1184, 80, 1216, 48, 1216, 128, 1184, 160, 1056, 160, 1024, 128 )

[node name="CollisionPolygon2D7" type="CollisionPolygon2D" parent="Blocks"]
position = Vector2( 416, -96 )
polygon = PoolVector2Array( 1024, 48, 1056, 80, 1088, 96, 1152, 96, 1184, 80, 1216, 48, 1216, 128, 1184, 160, 1056, 160, 1024, 128 )

[node name="CollisionPolygon2D6" type="CollisionPolygon2D" parent="Blocks"]
position = Vector2( -384, -176 )
polygon = PoolVector2Array( 1024, 48, 1056, 80, 1088, 96, 1152, 96, 1184, 80, 1216, 48, 1216, 128, 1184, 160, 1056, 160, 1024, 128 )

[node name="CollisionPolygon2D11" type="CollisionPolygon2D" parent="Blocks"]
position = Vector2( -3024, -384 )
polygon = PoolVector2Array( 1024, 48, 1056, 80, 1088, 96, 1152, 96, 1184, 80, 1216, 48, 1216, 128, 1184, 160, 1056, 160, 1024, 128 )

[node name="CollisionPolygon2D10" type="CollisionPolygon2D" parent="Blocks"]
position = Vector2( -2240, -416 )
polygon = PoolVector2Array( 1024, 48, 1056, 80, 1088, 96, 1152, 96, 1184, 80, 1216, 48, 1216, 128, 1184, 160, 1056, 160, 1024, 128 )

[node name="CollisionPolygon2D12" type="CollisionPolygon2D" parent="Blocks"]
position = Vector2( -3696, -369.6 )
polygon = PoolVector2Array( 1024, 48, 1056, 80, 1088, 96, 1152, 96, 1184, 80, 1216, 48, 1216, 128, 1184, 160, 1056, 160, 1024, 128 )

[node name="CollisionPolygon2D13" type="CollisionPolygon2D" parent="Blocks"]
polygon = PoolVector2Array( -1056, -80, -1088, -64, -1120, -32, -1296, 320, -1328, 352, -1360, 368, -1424, 368, -1456, 352, -1488, 320, -1600, 96, -1632, 64, -1664, 48, -1728, 48, -1728, 432, -928, 432, -928, -80 )

[node name="CollisionPolygon2D14" type="CollisionPolygon2D" parent="Blocks"]
polygon = PoolVector2Array( -1568, 80, -1312, 208, -1296, 208, -1280, 192, -1536, 64 )

[node name="Dialogue" parent="." instance=ExtResource( 4 )]
speech_generators = [ ExtResource( 5 ) ]
[connection signal="dialogue_end" from="Dialogue" to="Player" method="_on_dialogue_end"]
[connection signal="dialogue_end" from="Dialogue" to="Player/PixelCamera" method="_on_dialogue_end"]
[connection signal="dialogue_start" from="Dialogue" to="Player" method="_on_dialogue_start"]
[connection signal="dialogue_start" from="Dialogue" to="Player/PixelCamera" method="_on_dialogue_start"]
