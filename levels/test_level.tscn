[gd_scene load_steps=12 format=2]

[ext_resource path="res://entities/ui/pixel_camera.tscn" type="PackedScene" id=1]
[ext_resource path="res://entities/ui/dialogue.tscn" type="PackedScene" id=2]
[ext_resource path="res://dialogue/introduction.gd" type="Script" id=3]
[ext_resource path="res://entities/player.tscn" type="PackedScene" id=4]
[ext_resource path="res://tilesets/winter.tres" type="TileSet" id=5]
[ext_resource path="res://entities/hazard_small.tscn" type="PackedScene" id=6]
[ext_resource path="res://entities/hazard_large.tscn" type="PackedScene" id=7]
[ext_resource path="res://entities/coin.tscn" type="PackedScene" id=8]
[ext_resource path="res://entities/coin_large.tscn" type="PackedScene" id=9]
[ext_resource path="res://entities/checkpoint.tscn" type="PackedScene" id=10]
[ext_resource path="res://entities/effects/snow.tscn" type="PackedScene" id=11]

[node name="TestLevel" type="Node"]

[node name="PixelCamera" parent="." instance=ExtResource( 1 )]

[node name="Dialogue" parent="." instance=ExtResource( 2 )]
speech_generators = [ ExtResource( 3 ) ]

[node name="Player" parent="." instance=ExtResource( 4 )]

[node name="TileMap" type="TileMap" parent="."]
tile_set = ExtResource( 5 )
format = 1

[node name="Blocks" type="StaticBody2D" parent="."]
editor/display_folded = true
collision_layer = 2
collision_mask = 0

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Blocks"]
position = Vector2( -480, -144 )
polygon = PoolVector2Array( -64, 256, 80, 256, 112, 272, 144, 304, 160, 336, 192, 368, 224, 384, 368, 384, 432, 352, 640, 352, 704, 320, 768, 256, 864, 64, 896, 32, 928, 16, 992, 16, 1024, 32, 1040, 48, 1136, 224, 1168, 256, 1200, 272, 1264, 272, 1296, 256, 1328, 224, 1328, 480, 1360, 544, 1392, 576, 1456, 608, 1616, 608, 1680, 576, 1792, 576, 1856, 608, 1968, 608, 2352, 416, 2480, 416, 2544, 352, 2608, 320, 2736, 320, 2768, 336, 3024, 336, 3024, -16, 3152, -16, 3152, 656, 1024, 656, 1024, 464, 976, 416, -416, 416, -416, 64, -288, 64, -224, 96, -192, 128, -160, 192, -128, 224 )

[node name="CollisionPolygon2D2" type="CollisionPolygon2D" parent="Blocks"]
position = Vector2( 80, 16 )
polygon = PoolVector2Array( -272, 0, -272, 16, -240, 48, 0, 48, 32, 16, 32, 0 )

[node name="CollisionPolygon2D9" type="CollisionPolygon2D" parent="Blocks"]
position = Vector2( 2144, 64 )
polygon = PoolVector2Array( -272, 0, -272, 16, -240, 48, 320, 48, 352, 16, 352, 7.62939e-06 )

[node name="CollisionPolygon2D3" type="CollisionPolygon2D" parent="Blocks"]
position = Vector2( -320, -128 )
polygon = PoolVector2Array( -272, 0, -272, 16, -240, 48, 0, 48, 32, 16, 32, 0 )

[node name="CollisionPolygon2D4" type="CollisionPolygon2D" parent="Blocks"]
position = Vector2( -96, 0 )
polygon = PoolVector2Array( -192, -64, -16, -64, -47.9999, -32, -160, -32 )

[node name="CollisionPolygon2D5" type="CollisionPolygon2D" parent="Blocks"]
position = Vector2( 64, -32 )
polygon = PoolVector2Array( 1024, 48, 1056, 80, 1088, 96, 1152, 96, 1184, 80, 1216, 48, 1216, 128, 1184, 160, 1056, 160, 1024, 128 )

[node name="CollisionPolygon2D8" type="CollisionPolygon2D" parent="Blocks"]
position = Vector2( 272, 128 )
polygon = PoolVector2Array( 1024, 48, 1056, 80, 1088, 96, 1152, 96, 1184, 80, 1216, 48, 1216, 128, 1184, 160, 1056, 160, 1024, 128 )

[node name="CollisionPolygon2D7" type="CollisionPolygon2D" parent="Blocks"]
position = Vector2( 416, -96 )
polygon = PoolVector2Array( 1024, 48, 1056, 80, 1088, 96, 1152, 96, 1184, 80, 1216, 48, 1216, 128, 1184, 160, 1056, 160, 1024, 128 )

[node name="CollisionPolygon2D6" type="CollisionPolygon2D" parent="Blocks"]
position = Vector2( -384, -176 )
polygon = PoolVector2Array( 1024, 48, 1056, 80, 1088, 96, 1152, 96, 1184, 80, 1216, 48, 1216, 128, 1184, 160, 1056, 160, 1024, 128 )

[node name="CollisionPolygon2D11" type="CollisionPolygon2D" parent="Blocks"]
position = Vector2( -3168, -416 )
polygon = PoolVector2Array( 1024, 48, 1056, 80, 1088, 96, 1152, 96, 1184, 80, 1216, 48, 1216, 128, 1184, 160, 1056, 160, 1024, 128 )

[node name="CollisionPolygon2D10" type="CollisionPolygon2D" parent="Blocks"]
position = Vector2( -2240, -416 )
polygon = PoolVector2Array( 1024, 48, 1056, 80, 1088, 96, 1152, 96, 1184, 80, 1216, 48, 1216, 128, 1184, 160, 1056, 160, 1024, 128 )

[node name="CollisionPolygon2D12" type="CollisionPolygon2D" parent="Blocks"]
position = Vector2( -3696, -369.6 )
polygon = PoolVector2Array( 1024, 48, 1056, 80, 1088, 96, 1152, 96, 1184, 80, 1216, 48, 1216, 128, 1184, 160, 1056, 160, 1024, 128 )

[node name="CollisionPolygon2D13" type="CollisionPolygon2D" parent="Blocks"]
position = Vector2( 32, 0 )
polygon = PoolVector2Array( -1056, -80, -1088, -64, -1120, -32, -1296, 320, -1328, 352, -1360, 368, -1424, 368, -1456, 352, -1488, 320, -1600, 96, -1632, 64, -1664, 48, -1728, 48, -1728, -208, -1856, -336, -1856, 432, -928, 432, -928, -80 )

[node name="CollisionPolygon2D14" type="CollisionPolygon2D" parent="Blocks"]
position = Vector2( 32, -48 )
polygon = PoolVector2Array( -1568, 80, -1312, 208, -1296, 208, -1280, 192, -1536, 64 )

[node name="Hazards" type="Node" parent="."]
editor/display_folded = true

[node name="Hazard" parent="Hazards" instance=ExtResource( 6 )]
position = Vector2( 128, -80 )

[node name="HazardLarge" parent="Hazards" instance=ExtResource( 7 )]
position = Vector2( 144, -128 )

[node name="Scores" type="Node2D" parent="."]
editor/display_folded = true
z_index = 1

[node name="Coin" parent="Scores" instance=ExtResource( 8 )]
position = Vector2( -262.245, -81.8253 )

[node name="Coin2" parent="Scores" instance=ExtResource( 8 )]
position = Vector2( -234.12, -81.4931 )

[node name="Coin3" parent="Scores" instance=ExtResource( 8 )]
position = Vector2( -683.2, -64 )

[node name="Coin4" parent="Scores" instance=ExtResource( 8 )]
position = Vector2( -657.262, -37.16 )

[node name="Coin5" parent="Scores" instance=ExtResource( 8 )]
position = Vector2( -640.947, -13.4755 )

[node name="Coin6" parent="Scores" instance=ExtResource( 8 )]
position = Vector2( -628.324, 13.0316 )

[node name="Coin7" parent="Scores" instance=ExtResource( 8 )]
position = Vector2( -612.546, 39.2231 )

[node name="Coin8" parent="Scores" instance=ExtResource( 8 )]
position = Vector2( -592.35, 61.9434 )

[node name="Coin9" parent="Scores" instance=ExtResource( 8 )]
position = Vector2( -568.683, 80.2459 )

[node name="Coin10" parent="Scores" instance=ExtResource( 8 )]
position = Vector2( -542.176, 91.606 )

[node name="Coin11" parent="Scores" instance=ExtResource( 8 )]
position = Vector2( -514.407, 93.4994 )

[node name="Coin12" parent="Scores" instance=ExtResource( 8 )]
position = Vector2( -484.113, 95.7083 )

[node name="Coin13" parent="Scores" instance=ExtResource( 8 )]
position = Vector2( -448, 95.7083 )

[node name="Coin14" parent="Scores" instance=ExtResource( 8 )]
position = Vector2( -412.657, 97.2861 )

[node name="Coin15" parent="Scores" instance=ExtResource( 8 )]
position = Vector2( -379.208, 102.335 )

[node name="Coin16" parent="Scores" instance=ExtResource( 8 )]
position = Vector2( -350.807, 119.375 )

[node name="Coin17" parent="Scores" instance=ExtResource( 8 )]
position = Vector2( -329.981, 141.78 )

[node name="Coin18" parent="Scores" instance=ExtResource( 8 )]
position = Vector2( -311.047, 167.972 )

[node name="Coin19" parent="Scores" instance=ExtResource( 8 )]
position = Vector2( -294.638, 194.479 )

[node name="Coin20" parent="Scores" instance=ExtResource( 8 )]
position = Vector2( -272.233, 214.359 )

[node name="Coin21" parent="Scores" instance=ExtResource( 8 )]
position = Vector2( -243.517, 223.195 )

[node name="Coin22" parent="Scores" instance=ExtResource( 8 )]
position = Vector2( -217.01, 223.51 )

[node name="Coin23" parent="Scores" instance=ExtResource( 8 )]
position = Vector2( -188.294, 222.248 )

[node name="Coin24" parent="Scores" instance=ExtResource( 8 )]
position = Vector2( -159.262, 223.51 )

[node name="Coin25" parent="Scores" instance=ExtResource( 8 )]
position = Vector2( -131.178, 224.141 )

[node name="Coin26" parent="Scores" instance=ExtResource( 8 )]
position = Vector2( -106.564, 214.043 )

[node name="Coin27" parent="Scores" instance=ExtResource( 8 )]
position = Vector2( -82.5813, 201.105 )

[node name="Coin28" parent="Scores" instance=ExtResource( 8 )]
position = Vector2( -58.5987, 190.692 )

[node name="Coin29" parent="Scores" instance=ExtResource( 8 )]
position = Vector2( -33.0384, 188.483 )

[node name="Coin30" parent="Scores" instance=ExtResource( 8 )]
position = Vector2( -8.1091, 188.483 )

[node name="Coin31" parent="Scores" instance=ExtResource( 8 )]
position = Vector2( 19.0291, 190.376 )

[node name="Coin32" parent="Scores" instance=ExtResource( 8 )]
position = Vector2( 47.1139, 190.376 )

[node name="Coin33" parent="Scores" instance=ExtResource( 8 )]
position = Vector2( 75.8299, 190.376 )

[node name="Coin34" parent="Scores" instance=ExtResource( 8 )]
position = Vector2( 107.701, 191.954 )

[node name="Coin35" parent="Scores" instance=ExtResource( 8 )]
position = Vector2( 135.471, 192.27 )

[node name="Coin36" parent="Scores" instance=ExtResource( 8 )]
position = Vector2( -206.55, -80.8288 )

[node name="CoinLarge" parent="Scores" instance=ExtResource( 9 )]
position = Vector2( -560.346, -150.779 )

[node name="CoinLarge2" parent="Scores" instance=ExtResource( 9 )]
position = Vector2( -320.006, -149.307 )

[node name="CoinLarge3" parent="Scores" instance=ExtResource( 9 )]
position = Vector2( -719.713, -88.2097 )

[node name="Checkpoints" type="Node" parent="."]
editor/display_folded = true

[node name="Checkpoint" parent="Checkpoints" instance=ExtResource( 10 )]
position = Vector2( 480, -128 )

[node name="Checkpoint2" parent="Checkpoints" instance=ExtResource( 10 )]
position = Vector2( -400, -128 )

[node name="Checkpoint3" parent="Checkpoints" instance=ExtResource( 10 )]
position = Vector2( -800, -80 )

[node name="Foreground" type="Node2D" parent="."]
editor/display_folded = true
z_index = 10

[node name="Snow" parent="Foreground" instance=ExtResource( 11 )]

[node name="Background" type="Node2D" parent="."]
editor/display_folded = true
z_index = -10

[node name="Snow" parent="Background" instance=ExtResource( 11 )]
[connection signal="dialogue_end" from="Dialogue" to="Player" method="_on_dialogue_end"]
[connection signal="dialogue_end" from="Dialogue" to="PixelCamera" method="_on_dialogue_end"]
[connection signal="dialogue_start" from="Dialogue" to="Player" method="_on_dialogue_start"]
[connection signal="dialogue_start" from="Dialogue" to="PixelCamera" method="_on_dialogue_start"]
[connection signal="death" from="Player" to="PixelCamera" method="_on_player_death"]
[connection signal="spawn" from="Player" to="PixelCamera" method="_on_player_spawn"]
